<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Creative - Bootstrap 3 Responsive Admin Template">
    <meta name="author" content="GeeksLabs">
    <meta name="keyword" content="Creative, Dashboard, Admin, Template, Theme, Bootstrap, Responsive, Retina, Minimal">

    <title>电影大数据——电影库</title>
	<script src="/static/js/mouse_act.js">

		/*function mouse_act(){
  document.getElementById("mv_intro").innerHTML="要显示的影片简介";}*/
	  </script>


	<!-- 引入 echarts.js -->
    <script src="/static/js/echarts.js"></script>
    <script src="/static/js/world.js"></script>
    <script src="/static/jquery.js"></script>
    <!-- Bootstrap CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <!-- bootstrap theme -->
    <link href="/static/css/bootstrap-theme.css" rel="stylesheet">
    <!--external css-->
    <!-- font icon -->
    <link href="/static/css/elegant-icons-style.css" rel="stylesheet" />
    <link href="/static/css/font-awesome.min.css" rel="stylesheet" />
    <!-- full calendar css-->
    <link href="/static/assets/fullcalendar/fullcalendar/bootstrap-fullcalendar.css" rel="stylesheet" />
	<link href="/static/assets/fullcalendar/fullcalendar/fullcalendar.css" rel="stylesheet" />
    <!-- easy pie chart-->
    <link href="/static/assets/jquery-easy-pie-chart/jquery.easy-pie-chart.css" rel="stylesheet" type="text/css" media="screen"/>
    <!-- owl carousel -->
    <link rel="stylesheet" href="/static/css/owl.carousel.css" type="text/css">
	<link href="/static/css/jquery-jvectormap-1.2.2.css" rel="stylesheet">
    <!-- Custom styles -->
	<link rel="stylesheet" href="/static/css/fullcalendar.css">
	<link href="/static/css/widgets.css" rel="stylesheet">
    <link href="/static/css/style.css" rel="stylesheet">
    <link href="/static/css/style-responsive.css" rel="stylesheet" />
	<link href="/static/css/xcharts.min.css" rel=" stylesheet">
	<link href="/static/css/jquery-ui-1.10.4.min.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 -->
    <!--[if lt IE 9]>
      <script src="/static/js/html5shiv.js"></script>
      <script src="/static/js/respond.min.js"></script>
      <script src="/static/js/lte-ie7.js"></script>
    <![endif]-->
  </head>

  <body>
  <!-- container section start -->
  <section id="container" class="">
    <header class="header dark-bg">
      <div class="toggle-nav">
        <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
      </div>
      <!--logo start-->
      <a href="index.html" class="logo">电影大数据</a>
      <!--logo end-->
      <div class="nav search-row" id="top_menu">
        <!--  search form start -->
        <ul class="nav top-menu">
          <li>
            <form class="navbar-form">
</form>
          </li>
          <strong><img src="/static/img/icon.png" width="30" height="30" alt=""/></strong>
        </ul>
        <!--  search form end -->
      </div>
      <div class="top-nav notification-row">
        <!-- notificatoin dropdown start-->        <!-- notificatoin dropdown end-->
      </div>
    </header>
    <!--header end-->

      <!--sidebar start-->
      <aside>
        <div id="sidebar"  class="nav-collapse ">
          <!-- sidebar menu start-->
          <ul class="sidebar-menu">
            <li class="active"> <a class="" href="/"> <i><img src="/static/img/电影推荐.png" width="25" height="25" alt=""/></i> <span>电影推荐</span> </a> </li>
            <li class="sub-menu"> <a href="javascript:;" class=""> <i><img src="/static/img/电影地区.png" width="25" height="25" alt=""/></i> <span>电影地区</span> <span class="menu-arrow arrow_carrot-right"></span></a>
              <ul class="sub">
                <li> <a class="" href="地区特征"> <i><img src="/static/img/地区特征.png" width="25" height="25" alt=""/></i> <span>地区特征</span></a></li>
                <li> <a class="" href="电影统计"> <i><img src="/static/img/电影统计.png" width="25" height="25" alt=""/></i> <span>电影统计</span></a></li>
              </ul>
            </li>
            <li class="sub-menu"> <a href="javascript:;" class=""> <i><img src="/static/img/电影时间.png" width="25" height="25" alt=""/></i> <span>电影时间</span> <span class="menu-arrow arrow_carrot-right"></span></a>
              <ul class="sub">
                <li> <a class="" href="电影年代"> <i><img src="/static/img/电影年代.png" width="25" height="25" alt=""/></i> <span>电影年代</span></a></li>
                <li> <a class="" href="年代特征"> <i><img src="/static/img/年代特征.png" width="25" height="25" alt=""/></i> <span>年代特征</span></a></li>
              </ul>
            </li>
            <li class="sub-menu"> <a href="javascript:;" class=""> <i><img src="/static/img/电影人物.png" width="25" height="25" alt=""/></i> <span>电影人物</span> <span class="menu-arrow arrow_carrot-right"></span></a>
              <ul class="sub">
                <li> <a class="" href="演员热度"> <i><img src="/static/img/演员热度.png" width="25" height="25" alt=""/></i> <span>演员热度</span></a></li>
                <li> <a class="" href="吸金导演"> <i><img src="/static/img/吸金导演.png" width="25" height="25" alt=""/></i> <span>吸金导演</span></a></li>
              </ul>
            </li>
            <li> <a class="" href="电影类型"> <i><img src="/static/img/电影类型.png" width="25" height="25" alt=""/></i> <span>电影类型</span></a></li>
          </ul>
          <!-- sidebar menu end-->
        </div>
      </aside>
      <!--sidebar end-->

      <!--main content start-->
      <section id="main-content">
          <section class="wrapper">
              <!--overview start-->
			  <div class="row">
				<div class="col-lg-12">
				  <h3 class="page-header"><em><img src="/static/img/电影推荐.png" width="25" height="25"></em> 电影库</h3>
				  <ol class="breadcrumb">
				    <li><em ><img src="/static/img/全部电影.png" width="20" height="20" alt=""/></em><a href="">全部电影</a></li>
				    <li><em><img src="/static/img/类型电影.png" width="20" height="20" alt=""/></em><a href="allfilm">类型电影</a></li>
				  </ol>
				</div>
			</div>
            <div class="row">

           <div class="row">
		    <div class="col-lg-12 col-md-12">

					<div class="panel panel-default">
					  <div class="panel-heading">
						  <h2><em class="fa fa-map-marker red"></em><strong>电影地图</strong></h2>
						  <div class="panel-actions">
								<a href="index.html#" class="btn-setting"></a>
								<a href="index.html#" class="btn-minimize"></a>
							</div>
						</div>
					  <div>
						  <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
					    <div id="main" style="width: 1700px;height:853px;"></div>
						  <script type="text/javascript">
        	  // 基于准备好的dom，初始化echarts实例
        	  var myChart = echarts.init(document.getElementById('main'));
        	  // 指定图表的配置项和数据
              var value = [];
               $.ajax({
            url: "/handle_index",
            type: "GET",
            data: {test: $("#textLine").val()},
            dataType: "json",
                   async: false,
            success: function (jsonStr) {
                if (jsonStr) {
                    for (var i = 0; i < jsonStr.length; i++) {
                        value[i] = jsonStr[i].value;    //挨个取出类别并填入类别数组
                    }
                }

            }
        });
			  var  data=[
  {
    "time": 2013,
    "data": [
      {"name":"China","value":[value[0],"中国"]},
      {"name":"United States","value":[value[7],"美国"]},
      {"name":"United Kingdom","value":[value[14],"英国"]},
      {"name":"France","value":[value[21],"法国"]},
      {"name":"Russia","value":[value[28],"俄罗斯"]},
      {"name":"Japan","value":[value[35],"日本"]},
      {"name":"Germany","value":[value[42],"德国"]},
      {"name":"India","value":[value[49],"印度"]},
      {"name":"Korea","value":[value[56],"韩国"]},
      {"name":"Italy","value":[value[63],"意大利"]},
      {"name":"Brazil","value":[value[70],"巴西"]},
      {"name":"Canada","value":[value[77],"加拿大"]},
      {"name":"Australia","value":[value[84],"澳大利亚"]},
      {"name":"Spain","value":[value[91],"西班牙"]},
      {"name":"Mexico","value":[value[98],"墨西哥"]}
    ]
  },{
    "time": 2014,
    "data": [
      {"name":"China","value":[value[1],"中国"]},
      {"name":"United States","value":[value[8],"美国"]},
      {"name":"United Kingdom","value":[value[15],"英国"]},
      {"name":"France","value":[value[22],"法国"]},
      {"name":"Russia","value":[value[29],"俄罗斯"]},
      {"name":"Japan","value":[value[36],"日本"]},
      {"name":"Germany","value":[value[43],"德国"]},
      {"name":"India","value":[value[50],"印度"]},
      {"name":"Korea","value":[value[57],"韩国"]},
      {"name":"Italy","value":[value[64],"意大利"]},
      {"name":"Brazil","value":[value[71],"巴西"]},
      {"name":"Canada","value":[value[78],"加拿大"]},
      {"name":"Australia","value":[value[85],"澳大利亚"]},
      {"name":"Spain","value":[value[92],"西班牙"]},
      {"name":"Mexico","value":[value[99],"墨西哥"]}
    ]
  },{
    "time": 2015,
    "data": [
      {"name":"China","value":[value[2],"中国"]},
      {"name":"United States","value":[value[9],"美国"]},
      {"name":"United Kingdom","value":[value[16],"英国"]},
      {"name":"France","value":[value[23],"法国"]},
      {"name":"Russia","value":[value[30],"俄罗斯"]},
      {"name":"Japan","value":[value[37],"日本"]},
      {"name":"Germany","value":[value[44],"德国"]},
      {"name":"India","value":[value[51],"印度"]},
      {"name":"Korea","value":[value[58],"韩国"]},
      {"name":"Italy","value":[value[65],"意大利"]},
      {"name":"Brazil","value":[value[72],"巴西"]},
      {"name":"Canada","value":[value[79],"加拿大"]},
      {"name":"Australia","value":[value[86],"澳大利亚"]},
      {"name":"Spain","value":[value[93],"西班牙"]},
      {"name":"Mexico","value":[value[100],"墨西哥"]}
    ]
  },{
    "time": 2016,
    "data": [
      {"name":"China","value":[value[3],"中国"]},
      {"name":"United States","value":[value[10],"美国"]},
      {"name":"United Kingdom","value":[value[17],"英国"]},
      {"name":"France","value":[value[24],"法国"]},
      {"name":"Russia","value":[value[31],"俄罗斯"]},
      {"name":"Japan","value":[value[38],"日本"]},
      {"name":"Germany","value":[value[45],"德国"]},
      {"name":"India","value":[value[52],"印度"]},
      {"name":"Korea","value":[value[59],"韩国"]},
      {"name":"Italy","value":[value[66],"意大利"]},
      {"name":"Brazil","value":[value[73],"巴西"]},
      {"name":"Canada","value":[value[80],"加拿大"]},
      {"name":"Australia","value":[value[87],"澳大利亚"]},
      {"name":"Spain","value":[value[94],"西班牙"]},
      {"name":"Mexico","value":[value[101],"墨西哥"]}
    ]
  },{
    "time": 2017,
    "data": [
      {"name":"China","value":[value[4],"中国"]},
      {"name":"United States","value":[value[11],"美国"]},
      {"name":"United Kingdom","value":[value[18],"英国"]},
      {"name":"France","value":[value[25],"法国"]},
      {"name":"Russia","value":[value[32],"俄罗斯"]},
      {"name":"Japan","value":[value[39],"日本"]},
      {"name":"Germany","value":[value[46],"德国"]},
      {"name":"India","value":[value[53],"印度"]},
      {"name":"Korea","value":[value[60],"韩国"]},
      {"name":"Italy","value":[value[67],"意大利"]},
      {"name":"Brazil","value":[value[74],"巴西"]},
      {"name":"Canada","value":[value[81],"加拿大"]},
      {"name":"Australia","value":[value[88],"澳大利亚"]},
      {"name":"Spain","value":[value[95],"西班牙"]},
      {"name":"Mexico","value":[value[102],"墨西哥"]}
    ]
  },{
    "time": 2018,
    "data": [
      {"name":"China","value":[value[5],"中国"]},
      {"name":"United States","value":[value[12],"美国"]},
      {"name":"United Kingdom","value":[value[19],"英国"]},
      {"name":"France","value":[value[26],"法国"]},
      {"name":"Russia","value":[value[33],"俄罗斯"]},
      {"name":"Japan","value":[value[40],"日本"]},
      {"name":"Germany","value":[value[47],"德国"]},
      {"name":"India","value":[value[54],"印度"]},
      {"name":"Korea","value":[value[61],"韩国"]},
      {"name":"Italy","value":[value[68],"意大利"]},
      {"name":"Brazil","value":[value[75],"巴西"]},
      {"name":"Canada","value":[value[82],"加拿大"]},
      {"name":"Australia","value":[value[89],"澳大利亚"]},
      {"name":"Spain","value":[value[96],"西班牙"]},
      {"name":"Mexico","value":[value[103],"墨西哥"]}
    ]
  },{
    "time": 2019,
    "data": [
      {"name":"China","value":[value[6],"中国"]},
      {"name":"United States","value":[value[13],"美国"]},
      {"name":"United Kingdom","value":[value[20],"英国"]},
      {"name":"France","value":[value[27],"法国"]},
      {"name":"Russia","value":[value[34],"俄罗斯"]},
      {"name":"Japan","value":[value[41],"日本"]},
      {"name":"Germany","value":[value[48],"德国"]},
      {"name":"India","value":[value[55],"印度"]},
      {"name":"Korea","value":[value[62],"韩国"]},
      {"name":"Italy","value":[value[69],"意大利"]},
      {"name":"Brazil","value":[value[76],"巴西"]},
      {"name":"Canada","value":[value[83],"加拿大"]},
      {"name":"Australia","value":[value[90],"澳大利亚"]},
      {"name":"Spain","value":[value[97],"西班牙"]},
      {"name":"Mexico","value":[value[104],"墨西哥"]}
    ]
  }
]


var option = {
  baseOption: {
    animationDurationUpdate: 1000,
    animationEasingUpdate: 'quinticInOut',
    timeline: {
      axisType: 'category',
      orient: 'vertical',
      autoPlay: true,
      inverse: true,
      playInterval: 5000,
      left: null,
      right: 5,
      top: 20,
      bottom: 20,
      width: 46,
      height: null,
      label: {
        normal: {
          textStyle: {
            color: '#ddd'
          }
        },
        emphasis: {
          textStyle: {
            color: '#fff'
          }
        }
      },
      symbol: 'none',
      lineStyle: {
        color: '#555'
      },
      checkpointStyle: {
        color: '#bbb',
        borderColor: '#777',
        borderWidth: 1
      },
      controlStyle: {
        normal: {
          color: '#666',
          borderColor: '#666'
        },
        emphasis: {
          color: '#aaa',
          borderColor: '#aaa'
        }
      },
      data: data.map(function(ele) {
        return ele.time
      })
    },
    backgroundColor: '#394A59',
    title: {
      text: '主要国家近年发行影片数',
      subtext: '单位:部',
      left: 'center',
      top: 'top',
      textStyle: {
        fontSize: 25,
        color: 'rgba(255,255,255, 0.9)'
      }
    },
    tooltip: {
      formatter: function(params) {
        if ('value' in params.data) {
          return params.data.value[1] + ': ' + params.data.value[0];
        }
      }
    },
    grid: {
      left: '12%',
      right: '45%',
      top: '75%',
      bottom: 20
    },
    xAxis: {},
    yAxis: {},
    series: [
      {
        id: 'map',
        type: 'map',
        mapType: 'world',
        top: '10%',
        bottom: '30%',
        left: 75,
        itemStyle: {
          normal: {
            areaColor: '#ccc',
            borderColor: '#394A59'
          },
          emphasis: {
            label: {
              show: true
            },
            areaColor: 'rgba(255,255,255, 0.5)'
          }
        },
        data: []
      },
      {
        id: 'bar',
        type: 'bar',
        tooltip: {
          show: false
        },
        label: {
          normal: {
            show: true,
            position: 'right',
            textStyle: {
              color: '#ddd'
            }
          }
        },
        data: []
      }, {
        id: 'pie',
        type: 'pie',
        radius: ['8%', '20%'],
        center: ['75%', '85%'],
        roseType: 'radius',
        tooltip: {
          formatter: '{b} {d}%'
        },
        data: [],
        label: {
          normal: {
            textStyle: {
              color: '#ddd'
            }
          }
        },
        labelLine: {
          normal: {
            lineStyle: {
              color: '#ddd'
            }
          }
        },
        itemStyle: {
          normal: {
            borderColor: 'rgba(0,0,0,0.3)',
            borderSize: 1
          }
        }
      }
    ]
  },
  options: []
}

for (var i = 0; i < data.length; i++) {
  option.options.push({
    visualMap: [{
      dimension: 0,
      left: 10,
      itemWidth: 12,
      min: data[i].data[data.length-1].value[0],
      max: data[i].data[0].value[0],
      text: ['High', 'Low'],
      textStyle: {
        color: '#ddd'
      },
      inRange: {
        color: ['lightskyblue','yellow', 'orangered']
      }
    }],
    xAxis: {
      type: 'value',
      boundaryGap: [0, 0.1],
      axisLabel: {
        show: false,
      }
    },
    yAxis: {
      type: 'category',
      axisLabel: {
        textStyle: {
          color: '#ddd'
        }
      },
      data: data[i].data.map(function(ele) {
        return ele.value[1]
      })
    },
    series: [
      {
        id: 'map',
        data: data[i].data
      }, {
        id: 'bar',
        data: data[i].data.map(function(ele) {
          return ele.value[0]
        }).sort(function(a, b) {
          return a > b
        })
      }, {
        id: 'pie',
        data: data[i].data.map(function(ele) {
          return {
            name: ele.value[1],
            value: ele.value
          }
        }),
      }
    ]
  })
}


		// 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
                          </script>
					  </div>
</div>
				</div>
</div>


		  <!-- Today status end -->


            <!-- statics end -->




              <!-- project team & activity start --><!-- project team & activity end -->
            </div>
          </section>
      </section>
      <!--main content end-->
  </section>
  <!-- container section start -->

    <!-- javascripts -->
    <script src="/static/js/jquery.js"></script>
	<script src="/static/js/jquery-ui-1.10.4.min.js"></script>
    <script src="/static/js/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="/static/js/jquery-ui-1.9.2.custom.min.js"></script>
    <!-- bootstrap -->
    <script src="/static/js/bootstrap.min.js"></script>
    <!-- nice scroll -->
    <script src="/static/js/jquery.scrollTo.min.js"></script>
    <script src="/static/js/jquery.nicescroll.js" type="text/javascript"></script>
    <!-- charts scripts -->
    <script src="/static/assets/jquery-knob/js/jquery.knob.js"></script>
    <script src="/static/js/jquery.sparkline.js" type="text/javascript"></script>
    <script src="/static/assets/jquery-easy-pie-chart/jquery.easy-pie-chart.js"></script>
    <script src="/static/js/owl.carousel.js" ></script>
    <!-- jQuery full calendar -->
    <<script src="/static/js/fullcalendar.min.js"></script> <!-- Full Google Calendar - Calendar -->
	<script src="/static/assets/fullcalendar/fullcalendar/fullcalendar.js"></script>
    <!--script for this page only-->
    <script src="/static/js/calendar-custom.js"></script>
	<script src="/static/js/jquery.rateit.min.js"></script>
    <!-- custom select -->
    <script src="/static/js/jquery.customSelect.min.js" ></script>
	<script src="/static/assets/chart-master/Chart.js"></script>

    <!--custome script for all page-->
    <script src="/static/js/scripts.js"></script>
    <!-- custom script for this page-->
    <script src="/static/js/sparkline-chart.js"></script>
    <script src="/static/js/easy-pie-chart.js"></script>
	<script src="/static/js/jquery-jvectormap-1.2.2.min.js"></script>
	<script src="/static/js/jquery-jvectormap-world-mill-en.js"></script>
	<script src="/static/js/xcharts.min.js"></script>
	<script src="/static/js/jquery.autosize.min.js"></script>
	<script src="/static/js/jquery.placeholder.min.js"></script>
	<script src="/static/js/gdp-data.js"></script>
	<script src="/static/js/morris.min.js"></script>
	<script src="/static/js/sparklines.js"></script>
	<script src="/static/js/charts.js"></script>
	<script src="/static/js/jquery.slimscroll.min.js"></script>
  <script>

      //knob
      $(function() {
        $(".knob").knob({
          'draw' : function () {
            $(this.i).val(this.cv + '%')
          }
        })
      });

      //carousel
      $(document).ready(function() {
          $("#owl-slider").owlCarousel({
              navigation : true,
              slideSpeed : 300,
              paginationSpeed : 400,
              singleItem : true

          });
      });

      //custom select box

      $(function(){
          $('select.styled').customSelect();
      });

	  /* ---------- Map ---------- */
	$(function(){
	  $('#map').vectorMap({
	    map: 'world_mill_en',
	    series: {
	      regions: [{
	        values: gdpData,
	        scale: ['#000', '#000'],
	        normalizeFunction: 'polynomial'
	      }]
	    },
		backgroundColor: '#eef3f7',
	    onLabelShow: function(e, el, code){
	      el.html(el.html()+' (GDP - '+gdpData[code]+')');
	    }
	  });
	});



  </script>

  </body>
</html>
